<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<?import javafx.collections.FXCollections?>
<?import java.lang.String?>
<VBox xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.library.controller.AddBookDialogController"
      spacing="15" styleClass="dialog-container" minWidth="550">
    
    <padding>
        <Insets topRightBottomLeft="20"/>
    </padding>
    
    <!-- Header -->
    <HBox alignment="CENTER_LEFT" spacing="12" styleClass="dialog-header">
        <Label text="ðŸ“š" styleClass="dialog-icon"/>
        <VBox spacing="3">
            <Label text="Add New Book" styleClass="dialog-title"/>
            <Label text="Enter book details to add to library inventory" styleClass="dialog-subtitle"/>
        </VBox>
    </HBox>
    
    <Separator styleClass="dialog-separator"/>
    
    <!-- Book Details Form -->
    <ScrollPane fitToWidth="true" styleClass="form-scroll-pane" 
                maxHeight="450" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED">
        <VBox spacing="15">
            <padding>
                <Insets right="8"/>
            </padding>
            
            <!-- ISBN -->
            <VBox spacing="6">
                <HBox spacing="5" alignment="CENTER_LEFT">
                    <Label text="ISBN" styleClass="field-label"/>
                    <Label text="*" styleClass="required-indicator"/>
                </HBox>
                <HBox spacing="8" alignment="CENTER_LEFT">
                    <Label text="ðŸ”¢" styleClass="field-icon"/>
                    <TextField fx:id="isbnField" promptText="e.g., 978-3-16-148410-0"
                              HBox.hgrow="ALWAYS" styleClass="form-text-field"/>
                </HBox>
                <Label fx:id="isbnError" styleClass="error-label" managed="false" visible="false"/>
            </VBox>
            
            <!-- Title -->
            <VBox spacing="6">
                <HBox spacing="5" alignment="CENTER_LEFT">
                    <Label text="Book Title" styleClass="field-label"/>
                    <Label text="*" styleClass="required-indicator"/>
                </HBox>
                <HBox spacing="8" alignment="CENTER_LEFT">
                    <Label text="ðŸ“–" styleClass="field-icon"/>
                    <TextField fx:id="titleField" promptText="Enter book title"
                              HBox.hgrow="ALWAYS" styleClass="form-text-field"/>
                </HBox>
                <Label fx:id="titleError" styleClass="error-label" managed="false" visible="false"/>
            </VBox>
            
            <!-- Author -->
            <VBox spacing="6">
                <HBox spacing="5" alignment="CENTER_LEFT">
                    <Label text="Author" styleClass="field-label"/>
                    <Label text="*" styleClass="required-indicator"/>
                </HBox>
                <HBox spacing="8" alignment="CENTER_LEFT">
                    <Label text="âœï¸" styleClass="field-icon"/>
                    <TextField fx:id="authorField" promptText="Enter author name"
                              HBox.hgrow="ALWAYS" styleClass="form-text-field"/>
                </HBox>
                <Label fx:id="authorError" styleClass="error-label" managed="false" visible="false"/>
            </VBox>
            
            <!-- Category & Publisher Row -->
            <HBox spacing="12">
                <VBox spacing="6" HBox.hgrow="ALWAYS">
                    <HBox spacing="5" alignment="CENTER_LEFT">
                        <Label text="Category" styleClass="field-label"/>
                        <Label text="*" styleClass="required-indicator"/>
                    </HBox>
                    <HBox spacing="8" alignment="CENTER_LEFT">
                        <Label text="ðŸ“‚" styleClass="field-icon"/>
                        <ComboBox fx:id="categoryComboBox" promptText="Select category" 
                                 maxWidth="Infinity" HBox.hgrow="ALWAYS" styleClass="form-combo-box">
                            <items>
                                <FXCollections fx:factory="observableArrayList">
                                    <String fx:value="Fiction"/>
                                    <String fx:value="Non-Fiction"/>
                                    <String fx:value="Science"/>
                                    <String fx:value="Technology"/>
                                    <String fx:value="History"/>
                                    <String fx:value="Biography"/>
                                    <String fx:value="Self-Help"/>
                                    <String fx:value="Business"/>
                                    <String fx:value="Children"/>
                                    <String fx:value="Young Adult"/>
                                </FXCollections>
                            </items>
                        </ComboBox>
                    </HBox>
                    <Label fx:id="categoryError" styleClass="error-label" managed="false" visible="false"/>
                </VBox>
                
                <VBox spacing="6" HBox.hgrow="ALWAYS">
                    <Label text="Publisher" styleClass="field-label"/>
                    <HBox spacing="8" alignment="CENTER_LEFT">
                        <Label text="ðŸ¢" styleClass="field-icon"/>
                        <TextField fx:id="publisherField" promptText="Publisher name"
                                  HBox.hgrow="ALWAYS" styleClass="form-text-field"/>
                    </HBox>
                </VBox>
            </HBox>
            
            <!-- Publication Year & Edition Row -->
            <HBox spacing="12">
                <VBox spacing="6" HBox.hgrow="ALWAYS">
                    <Label text="Publication Year" styleClass="field-label"/>
                    <HBox spacing="8" alignment="CENTER_LEFT">
                        <Label text="ðŸ“…" styleClass="field-icon"/>
                        <Spinner fx:id="yearSpinner" min="1800" max="2026" initialValue="2025" 
                                editable="true" maxWidth="Infinity" HBox.hgrow="ALWAYS"
                                styleClass="form-spinner"/>
                    </HBox>
                </VBox>
                
                <VBox spacing="6" HBox.hgrow="ALWAYS">
                    <Label text="Edition" styleClass="field-label"/>
                    <HBox spacing="8" alignment="CENTER_LEFT">
                        <Label text="ðŸ“Œ" styleClass="field-icon"/>
                        <TextField fx:id="editionField" promptText="e.g., 1st, 2nd"
                                  HBox.hgrow="ALWAYS" styleClass="form-text-field"/>
                    </HBox>
                </VBox>
            </HBox>
            
            <!-- Total Copies & Price Row -->
            <HBox spacing="12">
                <VBox spacing="6" HBox.hgrow="ALWAYS">
                    <HBox spacing="5" alignment="CENTER_LEFT">
                        <Label text="Total Copies" styleClass="field-label"/>
                        <Label text="*" styleClass="required-indicator"/>
                    </HBox>
                    <HBox spacing="8" alignment="CENTER_LEFT">
                        <Label text="ðŸ“¦" styleClass="field-icon"/>
                        <Spinner fx:id="copiesSpinner" min="1" max="1000" initialValue="1" 
                                editable="true" maxWidth="Infinity" HBox.hgrow="ALWAYS"
                                styleClass="form-spinner"/>
                    </HBox>
                    <Label fx:id="copiesError" styleClass="error-label" managed="false" visible="false"/>
                </VBox>
                
                <VBox spacing="6" HBox.hgrow="ALWAYS">
                    <Label text="Price ($)" styleClass="field-label"/>
                    <HBox spacing="8" alignment="CENTER_LEFT">
                        <Label text="ðŸ’°" styleClass="field-icon"/>
                        <TextField fx:id="priceField" promptText="0.00"
                                  HBox.hgrow="ALWAYS" styleClass="form-text-field"/>
                    </HBox>
                </VBox>
            </HBox>
            
            <!-- Description -->
            <VBox spacing="6">
                <Label text="Description (Optional)" styleClass="field-label"/>
                <HBox spacing="8" alignment="TOP_LEFT">
                    <Label text="ðŸ“" styleClass="field-icon">
                        <padding>
                            <Insets top="10"/>
                        </padding>
                    </Label>
                    <TextArea fx:id="descriptionField" promptText="Enter book description..." 
                             prefRowCount="3" wrapText="true"
                             HBox.hgrow="ALWAYS" styleClass="form-text-area"/>
                </HBox>
                <Label text="ðŸ’¡ Provide a brief summary or key features" styleClass="hint-text"/>
            </VBox>
            
            <!-- Shelf Location -->
            <VBox spacing="6">
                <Label text="Shelf Location" styleClass="field-label"/>
                <HBox spacing="8" alignment="CENTER_LEFT">
                    <Label text="ðŸ“" styleClass="field-icon"/>
                    <TextField fx:id="shelfLocationField" promptText="e.g., A-12, Fiction Section"
                              HBox.hgrow="ALWAYS" styleClass="form-text-field"/>
                </HBox>
                <Label text="ðŸ’¡ Help members find this book easily" styleClass="hint-text"/>
            </VBox>
        </VBox>
    </ScrollPane>
    
    <!-- General Error/Success Message -->
    <Label fx:id="generalMessage" wrapText="true" managed="false" visible="false" 
           styleClass="message-label"/>
    
    <!-- Required Fields Note -->
    <HBox spacing="5" alignment="CENTER_LEFT" styleClass="required-note">
        <Label text="*" styleClass="required-indicator"/>
        <Label text="Required fields" styleClass="hint-text"/>
    </HBox>
    
    <!-- Action Buttons -->
    <HBox spacing="10" alignment="CENTER_RIGHT" styleClass="dialog-button-bar">
        <Button fx:id="cancelButton" text="Cancel" onAction="#handleCancel"
                styleClass="dialog-cancel-button" cancelButton="true"/>
        
        <Button fx:id="saveButton" text="ðŸ“š Add Book" onAction="#handleSave" 
                defaultButton="true" styleClass="dialog-primary-button"/>
    </HBox>
    
    <stylesheets>
        <String fx:value="/styles.css"/>
    </stylesheets>
</VBox>

